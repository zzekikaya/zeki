@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<link href="~/Scripts/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<script src="~/Content/Angular/Book/Service.js"></script>
<script src="~/Content/Angular/Book/Controller.js"></script>

<div ng-controller="book">
    <h1>Book Page</h1>
    <br />
    <div class="panel panel-default">
        <div class="panel-heading">Rapor </div>
        <div class="panel-body">
            <div class="form-horizontal">
                <div class="col-md-4 form-group">
                    <label>başlangıç tarihi</label>
                    <crn-datepicker ng-model="book.StartDate" ng-limit-min-date-to-today="false" ng-limit-max-date-to-today="true">  </crn-datepicker>
                </div>
                <div class="col-md-4 col-md-push-1 form-group">
                    <label>bitiş tarihi</label>
                    <crn-datepicker ng-model="book.EndDate" ng-limit-min-date-to-today="false" ng-limit-max-date-to-today="true">  </crn-datepicker>
                </div>
                <div class="col-md-2 col-md-push-2">
                    <br />
                    <!--<crn-datepicker ng-model="report.EndDate" ng-click="">  </crn-datepicker>-->
                    @*<button type="button" class="btn btn-default"  ng-click="getReport(book.StartDate,book.EndDate)">*@
                    <button ng-click="getReport(book.StartDate,book.EndDate)" class="btnAdd">başlat</button>
                    @*   <span class="glyphicon glyphicon-arrow-right"></span>{{buttonUpdateReport}}*@

                    @*</button>*@
                </div>

            </div>
        </div>
    </div>
    <div class="divList">

        <table cellpadding="12" class="table table-bordered table-hover">
            <tr>
                <td><b>ID</b></td>
                <td><b>Name</b></td>
                <td><b>Author</b></td>
                <td><b>EditionNumber</b></td>
                <td><b>kitap türü</b></td>
                <td><b>Başlangıç tarih</b></td>
                <td><b>Bitis tarih</b></td>
                <td><b>işlem</b></td>
            </tr>
            <tr ng-repeat="book in books">
                <td>{{book.ID}}
                </td>
                <td>{{book.Name}}
                </td>
                <td>{{book.Author}}
                </td>
                <td>{{book.TypeId}}
                </td>
                <td></td>
                <td>{{book.StartDate | convertDate | date:dd.MM.yyyy}}
                </td>
                <td>{{book.EndDate | convertDate | date:dd.MM.yyyy}}
                </td>
                <td>
                    <span ng-click="editBook(book)" class="btnAdd">Edit</span>
                    <span ng-click="deleteBook(book)" class="btnRed">Delete</span>
                </td>
            </tr>
        </table>
    </div>
    <br ng-show="divBook">
    <p class="divHead">{{Action}} Book</p>
    <div class="box box-info">
        <div class="box-header with-border">
            <h3 class="box-title">User List</h3>
        </div>
        <form class="form-horizontal">
            <div class="form-group">
                <label for="Id" class="col-sm-2 control-label">ID</label>
                <div class="col-sm-10">
                    <input type="text" ng-model="book.ID" disabled="disabled" id="id" class="col-xs-3">
                </div>
            </div>
            <div class="form-group">
                <label for="Name" class="col-sm-2 control-label">Name</label>
                <div class="col-sm-10">
                    <input type="text" class="col-sm-2" ng-model="book.Name" id="Name" class="col-xs-3">
                </div>
            </div>
            <div class="form-group">
                <label for="EditionNumber" class="col-sm-2 control-label">EditionNumber</label>
                <div class="col-sm-10">
                    <input type="text" class="col-sm-2" ng-model="book.EditionNumber" id="EditionNumber" class="col-xs-3">
                </div>
            </div>

            <div class="form-group">
                <label for="Author" class="col-sm-2 control-label">Author</label>
                <div class="col-sm-10">
                    <input type="text" class="col-sm-2" ng-model="book.Author" id="Author" class="col-xs-3">
                </div>
            </div>
            <div class="form-group">
                <label for="AddedDate" class="col-sm-2 control-label">StartDate</label>
                <div class="col-sm-10">
                    @*<input type="text" ng-model="book.StartDate" id="AddedDate" class="col-xs-3">*@
                    <crn-datepicker ng-model="book.StartDate" ng-limit-min-date-to-today="false" ng-limit-max-date-to-today="true" class="col-xs-3">  </crn-datepicker>
                </div>
            </div>
            <div class="form-group">
                <label for="EndDate" class="col-sm-2 control-label">EndDate</label>
                <div class="col-sm-10">
                    @*<input type="text" ng-model="book.EndDate" id="EndDate" class="col-xs-3">*@
                    <crn-datepicker ng-model="book.EndDate" ng-limit-min-date-to-today="false" ng-limit-max-date-to-today="true" class="col-xs-3">  </crn-datepicker>
                </div>
            </div>

            <div class="form-group">
                <label for="BookType" class="col-sm-2 control-label">BookType</label>
                <select data-ng-options="bookType.TypeId as bookType.Name for bookType in bookTypes" data-ng-model="book.TypeId" class="col-xs-3" required></select>

            </div>

            <div class="box-footer">
                @* <button type="submit" class="btn btn-default">Cancel</button>*@
                <button type="submit" ng-click="AddUpdateBook(book)" class="btn btn-info pull-left">Kaydet</button>
            </div>
            <!-- /.box-footer -->
        </form>
    </div>

</div>
